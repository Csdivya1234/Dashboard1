
<!DOCTYPE html>
<html>
    <head>
        <title>
            CUSTOMERS DASHBOARD 
        </title>
    </head>
    <body>
        <div id="root">

        </div>

        <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
        <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
        <script crossorigin src="https://unpkg.com/babel-standalone@6.26.0/babel.js"></script>
        <script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"></script>
        <script src="js/raw.githubusercontent.com_lodash_lodash_4.17.15-npm_lodash.js"></script>
         <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

        <script type="text/babel">
           const rootHandle = document.getElementById('root')
           
           const {useState , useEffect} = React 
           const customersData = [
                                {
                                Date: "2020-04-29",
                                Phone: 9455622241,
                                Name: "Shankara Narasimhan",
                                Amount: 260
                                },
                                {
                                Date: "2020-04-29",
                                Phone: 9597628723,
                                Name: "Sulya Gupta",
                                Amount: 90
                                },
                                {
                                Date: "2020-04-29",
                                Phone: 9640338121,
                                Name: "Brahma Swamy",
                                Amount: 80
                                },
                                {
                                Date: "2020-04-29",
                                Phone: 9383568793,
                                Name: "Vaibhav Mulye",
                                Amount: 240
                                },
                                {
                                Date: "2020-04-29",
                                Phone: 9455622241,
                                Name: "Shankara Narasimhan",
                                Amount: 230
                                },
                                {
                                Date: "2020-04-29",
                                Phone: 9521737322,
                                Name: "Riddhi Nair",
                                Amount: 70
                                },
                                {
                                Date: "2020-04-29",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 80
                                },
                                {
                                Date: "2020-04-29",
                                Phone: 9603660688,
                                Name: "Dhenuka Dhawan",
                                Amount: 250
                                },
                                {
                                Date: "2020-04-29",
                                Phone: 9451926724,
                                Name: "Sahan Sibal",
                                Amount: 260
                                },
                                {
                                Date: "2020-04-29",
                                Phone: 9699939066,
                                Name: "Haripriya Nayak",
                                Amount: 270
                                },
                                {
                                Date: "2020-04-29",
                                Phone: 9590146908,
                                Name: "Sachi Loliyekar",
                                Amount: 110
                                },
                                {
                                Date: "2020-04-29",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 100
                                },
                                {
                                Date: "2020-04-29",
                                Phone: 9640338121,
                                Name: "Brahma Swamy",
                                Amount: 240
                                },
                                {
                                Date: "2020-04-29",
                                Phone: 9236367267,
                                Name: "Takshaka Sandal",
                                Amount: 70
                                },
                                {
                                Date: "2020-04-30",
                                Phone: 9969345730,
                                Name: "Kavi Edwin",
                                Amount: 210
                                },
                                {
                                Date: "2020-04-30",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 280
                                },
                                {
                                Date: "2020-04-30",
                                Phone: 9971276037,
                                Name: "Pramlocha Comar",
                                Amount: 210
                                },
                                {
                                Date: "2020-04-30",
                                Phone: 9241664018,
                                Name: "Utathya Ghate",
                                Amount: 260
                                },
                                {
                                Date: "2020-04-30",
                                Phone: 9248936762,
                                Name: "Arpana Raja",
                                Amount: 260
                                },
                                {
                                Date: "2020-04-30",
                                Phone: 9640338121,
                                Name: "Brahma Swamy",
                                Amount: 200
                                },
                                {
                                Date: "2020-04-30",
                                Phone: 9895408016,
                                Name: "Mukul Krishna",
                                Amount: 180
                                },
                                {
                                Date: "2020-04-30",
                                Phone: 9241664018,
                                Name: "Utathya Ghate",
                                Amount: 260
                                },
                                {
                                Date: "2020-04-30",
                                Phone: 9920950009,
                                Name: "Rohan Sarma",
                                Amount: 110
                                },
                                {
                                Date: "2020-04-30",
                                Phone: 9820224845,
                                Name: "Tanika Philip",
                                Amount: 90
                                },
                                {
                                Date: "2020-04-30",
                                Phone: 9383568793,
                                Name: "Vaibhav Mulye",
                                Amount: 200
                                },
                                {
                                Date: "2020-04-30",
                                Phone: 9732082404,
                                Name: "Kali Chaudry",
                                Amount: 290
                                },
                                {
                                Date: "2020-04-30",
                                Phone: 9534474777,
                                Name: "Daeva Tata",
                                Amount: 70
                                },
                                {
                                Date: "2020-05-01",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 160
                                },
                                {
                                Date: "2020-05-01",
                                Phone: 9572464275,
                                Name: "Salmalin Mehta",
                                Amount: 100
                                },
                                {
                                Date: "2020-05-01",
                                Phone: 9688156631,
                                Name: "Sahan Oak",
                                Amount: 200
                                },
                                {
                                Date: "2020-05-01",
                                Phone: 9236367267,
                                Name: "Takshaka Sandal",
                                Amount: 250
                                },
                                {
                                Date: "2020-05-01",
                                Phone: 9979209995,
                                Name: "Atman Mathur",
                                Amount: 140
                                },
                                {
                                Date: "2020-05-01",
                                Phone: 9521737322,
                                Name: "Riddhi Nair",
                                Amount: 140
                                },
                                {
                                Date: "2020-05-01",
                                Phone: 9265205814,
                                Name: "Daeva Peri",
                                Amount: 180
                                },
                                {
                                Date: "2020-05-01",
                                Phone: 9267357082,
                                Name: "Muni Wasgare",
                                Amount: 210
                                },
                                {
                                Date: "2020-05-01",
                                Phone: 9267357082,
                                Name: "Muni Wasgare",
                                Amount: 290
                                },
                                {
                                Date: "2020-05-01",
                                Phone: 9590146908,
                                Name: "Sachi Loliyekar",
                                Amount: 190
                                },
                                {
                                Date: "2020-05-01",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 290
                                },
                                {
                                Date: "2020-05-01",
                                Phone: 9241664018,
                                Name: "Utathya Ghate",
                                Amount: 180
                                },
                                {
                                Date: "2020-05-02",
                                Phone: 9971276037,
                                Name: "Pramlocha Comar",
                                Amount: 80
                                },
                                {
                                Date: "2020-05-02",
                                Phone: 9920950009,
                                Name: "Rohan Sarma",
                                Amount: 140
                                },
                                {
                                Date: "2020-05-02",
                                Phone: 9705384480,
                                Name: "Latif Chia",
                                Amount: 70
                                },
                                {
                                Date: "2020-05-02",
                                Phone: 9252350612,
                                Name: "Anushka Mody",
                                Amount: 150
                                },
                                {
                                Date: "2020-05-02",
                                Phone: 9688156631,
                                Name: "Sahan Oak",
                                Amount: 290
                                },
                                {
                                Date: "2020-05-02",
                                Phone: 9359394987,
                                Name: "Tarun Mapkar",
                                Amount: 260
                                },
                                {
                                Date: "2020-05-02",
                                Phone: 9747425720,
                                Name: "Markandeya Barad",
                                Amount: 100
                                },
                                {
                                Date: "2020-05-02",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 180
                                },
                                {
                                Date: "2020-05-02",
                                Phone: 9699939066,
                                Name: "Haripriya Nayak",
                                Amount: 110
                                },
                                {
                                Date: "2020-05-02",
                                Phone: 9590146908,
                                Name: "Sachi Loliyekar",
                                Amount: 220
                                },
                                {
                                Date: "2020-05-02",
                                Phone: 9820224845,
                                Name: "Tanika Philip",
                                Amount: 220
                                },
                                {
                                Date: "2020-05-02",
                                Phone: 9747425720,
                                Name: "Markandeya Barad",
                                Amount: 90
                                },
                                {
                                Date: "2020-05-03",
                                Phone: 9910042819,
                                Name: "Shanti Bajwa",
                                Amount: 100
                                },
                                {
                                Date: "2020-05-03",
                                Phone: 9518195948,
                                Name: "Indra Chaudry",
                                Amount: 110
                                },
                                {
                                Date: "2020-05-03",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 80
                                },
                                {
                                Date: "2020-05-03",
                                Phone: 9236367267,
                                Name: "Takshaka Sandal",
                                Amount: 100
                                },
                                {
                                Date: "2020-05-03",
                                Phone: 9640338121,
                                Name: "Brahma Swamy",
                                Amount: 100
                                },
                                {
                                Date: "2020-05-03",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 120
                                },
                                {
                                Date: "2020-05-03",
                                Phone: 9453085874,
                                Name: "Manu Oza",
                                Amount: 120
                                },
                                {
                                Date: "2020-05-03",
                                Phone: 9976945538,
                                Name: "Amitabha Kothari",
                                Amount: 270
                                },
                                {
                                Date: "2020-05-03",
                                Phone: 9910042819,
                                Name: "Shanti Bajwa",
                                Amount: 280
                                },
                                {
                                Date: "2020-05-03",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 200
                                },
                                {
                                Date: "2020-05-03",
                                Phone: 9405883814,
                                Name: "Gauri Som",
                                Amount: 220
                                },
                                {
                                Date: "2020-05-03",
                                Phone: 9252350612,
                                Name: "Anushka Mody",
                                Amount: 170
                                },
                                {
                                Date: "2020-05-04",
                                Phone: 9453085874,
                                Name: "Manu Oza",
                                Amount: 120
                                },
                                {
                                Date: "2020-05-04",
                                Phone: 9640338121,
                                Name: "Brahma Swamy",
                                Amount: 150
                                },
                                {
                                Date: "2020-05-04",
                                Phone: 9927277067,
                                Name: "Ranjan Khare",
                                Amount: 80
                                },
                                {
                                Date: "2020-05-04",
                                Phone: 9910042819,
                                Name: "Shanti Bajwa",
                                Amount: 250
                                },
                                {
                                Date: "2020-05-04",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 200
                                },
                                {
                                Date: "2020-05-04",
                                Phone: 9293117791,
                                Name: "Kumara Nayak",
                                Amount: 250
                                },
                                {
                                Date: "2020-05-04",
                                Phone: 9976945538,
                                Name: "Amitabha Kothari",
                                Amount: 110
                                },
                                {
                                Date: "2020-05-04",
                                Phone: 9518195948,
                                Name: "Indra Chaudry",
                                Amount: 200
                                },
                                {
                                Date: "2020-05-04",
                                Phone: 9518195948,
                                Name: "Indra Chaudry",
                                Amount: 130
                                },
                                {
                                Date: "2020-05-04",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 140
                                },
                                {
                                Date: "2020-05-04",
                                Phone: 9521737322,
                                Name: "Riddhi Nair",
                                Amount: 120
                                },
                                {
                                Date: "2020-05-04",
                                Phone: 9920950009,
                                Name: "Rohan Sarma",
                                Amount: 120
                                },
                                {
                                Date: "2020-05-04",
                                Phone: 9597628723,
                                Name: "Sulya Gupta",
                                Amount: 140
                                },
                                {
                                Date: "2020-05-04",
                                Phone: 9534474777,
                                Name: "Daeva Tata",
                                Amount: 70
                                },
                                {
                                Date: "2020-05-04",
                                Phone: 9009381182,
                                Name: "Mira Reddy",
                                Amount: 240
                                },
                                {
                                Date: "2020-05-04",
                                Phone: 9009381182,
                                Name: "Mira Reddy",
                                Amount: 160
                                },
                                {
                                Date: "2020-05-04",
                                Phone: 9236367267,
                                Name: "Takshaka Sandal",
                                Amount: 150
                                },
                                {
                                Date: "2020-05-04",
                                Phone: 9265205814,
                                Name: "Daeva Peri",
                                Amount: 180
                                },
                                {
                                Date: "2020-05-05",
                                Phone: 9451926724,
                                Name: "Sahan Sibal",
                                Amount: 170
                                },
                                {
                                Date: "2020-05-05",
                                Phone: 9504662177,
                                Name: "Tara Menon",
                                Amount: 230
                                },
                                {
                                Date: "2020-05-05",
                                Phone: 9455622241,
                                Name: "Shankara Narasimhan",
                                Amount: 200
                                },
                                {
                                Date: "2020-05-05",
                                Phone: 9927277067,
                                Name: "Ranjan Khare",
                                Amount: 110
                                },
                                {
                                Date: "2020-05-05",
                                Phone: 9521737322,
                                Name: "Riddhi Nair",
                                Amount: 90
                                },
                                {
                                Date: "2020-05-05",
                                Phone: 9252350612,
                                Name: "Anushka Mody",
                                Amount: 120
                                },
                                {
                                Date: "2020-05-05",
                                Phone: 9699939066,
                                Name: "Haripriya Nayak",
                                Amount: 70
                                },
                                {
                                Date: "2020-05-05",
                                Phone: 9150159527,
                                Name: "Leya Sankaran",
                                Amount: 270
                                },
                                {
                                Date: "2020-05-05",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 240
                                },
                                {
                                Date: "2020-05-05",
                                Phone: 9733555024,
                                Name: "Nirav Khalsa",
                                Amount: 110
                                },
                                {
                                Date: "2020-05-05",
                                Phone: 9236367267,
                                Name: "Takshaka Sandal",
                                Amount: 200
                                },
                                {
                                Date: "2020-05-05",
                                Phone: 9241664018,
                                Name: "Utathya Ghate",
                                Amount: 260
                                },
                                {
                                Date: "2020-05-06",
                                Phone: 9455622241,
                                Name: "Shankara Narasimhan",
                                Amount: 210
                                },
                                {
                                Date: "2020-05-06",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 250
                                },
                                {
                                Date: "2020-05-06",
                                Phone: 9705384480,
                                Name: "Latif Chia",
                                Amount: 160
                                },
                                {
                                Date: "2020-05-06",
                                Phone: 9359394987,
                                Name: "Tarun Mapkar",
                                Amount: 100
                                },
                                {
                                Date: "2020-05-06",
                                Phone: 9688156631,
                                Name: "Sahan Oak",
                                Amount: 210
                                },
                                {
                                Date: "2020-05-06",
                                Phone: 9688156631,
                                Name: "Sahan Oak",
                                Amount: 280
                                },
                                {
                                Date: "2020-05-06",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 110
                                },
                                {
                                Date: "2020-05-06",
                                Phone: 9699939066,
                                Name: "Haripriya Nayak",
                                Amount: 130
                                },
                                {
                                Date: "2020-05-06",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 110
                                },
                                {
                                Date: "2020-05-06",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 90
                                },
                                {
                                Date: "2020-05-06",
                                Phone: 9597628723,
                                Name: "Sulya Gupta",
                                Amount: 190
                                },
                                {
                                Date: "2020-05-06",
                                Phone: 9521737322,
                                Name: "Riddhi Nair",
                                Amount: 140
                                },
                                {
                                Date: "2020-05-06",
                                Phone: 9451926724,
                                Name: "Sahan Sibal",
                                Amount: 230
                                },
                                {
                                Date: "2020-05-06",
                                Phone: 9403313898,
                                Name: "Adri Dave",
                                Amount: 210
                                },
                                {
                                Date: "2020-05-06",
                                Phone: 9895408016,
                                Name: "Mukul Krishna",
                                Amount: 240
                                },
                                {
                                Date: "2020-05-06",
                                Phone: 9504662177,
                                Name: "Tara Menon",
                                Amount: 140
                                },
                                {
                                Date: "2020-05-07",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 140
                                },
                                {
                                Date: "2020-05-07",
                                Phone: 9699939066,
                                Name: "Haripriya Nayak",
                                Amount: 280
                                },
                                {
                                Date: "2020-05-07",
                                Phone: 9732082404,
                                Name: "Kali Chaudry",
                                Amount: 130
                                },
                                {
                                Date: "2020-05-07",
                                Phone: 9150159527,
                                Name: "Leya Sankaran",
                                Amount: 250
                                },
                                {
                                Date: "2020-05-07",
                                Phone: 9820224845,
                                Name: "Tanika Philip",
                                Amount: 290
                                },
                                {
                                Date: "2020-05-07",
                                Phone: 9248936762,
                                Name: "Arpana Raja",
                                Amount: 260
                                },
                                {
                                Date: "2020-05-07",
                                Phone: 9293117791,
                                Name: "Kumara Nayak",
                                Amount: 200
                                },
                                {
                                Date: "2020-05-07",
                                Phone: 9640338121,
                                Name: "Brahma Swamy",
                                Amount: 200
                                },
                                {
                                Date: "2020-05-07",
                                Phone: 9732082404,
                                Name: "Kali Chaudry",
                                Amount: 280
                                },
                                {
                                Date: "2020-05-07",
                                Phone: 9265205814,
                                Name: "Daeva Peri",
                                Amount: 70
                                },
                                {
                                Date: "2020-05-07",
                                Phone: 9534474777,
                                Name: "Daeva Tata",
                                Amount: 160
                                },
                                {
                                Date: "2020-05-07",
                                Phone: 9252350612,
                                Name: "Anushka Mody",
                                Amount: 80
                                },
                                {
                                Date: "2020-05-07",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 220
                                },
                                {
                                Date: "2020-05-07",
                                Phone: 9153022424,
                                Name: "Hastin Mangal",
                                Amount: 180
                                },
                                {
                                Date: "2020-05-07",
                                Phone: 9920950009,
                                Name: "Rohan Sarma",
                                Amount: 160
                                },
                                {
                                Date: "2020-05-07",
                                Phone: 9534474777,
                                Name: "Daeva Tata",
                                Amount: 230
                                },
                                {
                                Date: "2020-05-07",
                                Phone: 9359394987,
                                Name: "Tarun Mapkar",
                                Amount: 260
                                },
                                {
                                Date: "2020-05-07",
                                Phone: 9969345730,
                                Name: "Kavi Edwin",
                                Amount: 100
                                },
                                {
                                Date: "2020-05-08",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 130
                                },
                                {
                                Date: "2020-05-08",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 120
                                },
                                {
                                Date: "2020-05-08",
                                Phone: 9504662177,
                                Name: "Tara Menon",
                                Amount: 220
                                },
                                {
                                Date: "2020-05-08",
                                Phone: 9455622241,
                                Name: "Shankara Narasimhan",
                                Amount: 150
                                },
                                {
                                Date: "2020-05-08",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 90
                                },
                                {
                                Date: "2020-05-08",
                                Phone: 9236367267,
                                Name: "Takshaka Sandal",
                                Amount: 110
                                },
                                {
                                Date: "2020-05-08",
                                Phone: 9330107696,
                                Name: "Nipa Naidu",
                                Amount: 70
                                },
                                {
                                Date: "2020-05-08",
                                Phone: 9927277067,
                                Name: "Ranjan Khare",
                                Amount: 180
                                },
                                {
                                Date: "2020-05-08",
                                Phone: 9140356318,
                                Name: "Ballari Upadhyay",
                                Amount: 270
                                },
                                {
                                Date: "2020-05-08",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 70
                                },
                                {
                                Date: "2020-05-08",
                                Phone: 9518195948,
                                Name: "Indra Chaudry",
                                Amount: 180
                                },
                                {
                                Date: "2020-05-08",
                                Phone: 9976945538,
                                Name: "Amitabha Kothari",
                                Amount: 270
                                },
                                {
                                Date: "2020-05-08",
                                Phone: 9534474777,
                                Name: "Daeva Tata",
                                Amount: 210
                                },
                                {
                                Date: "2020-05-08",
                                Phone: 9504662177,
                                Name: "Tara Menon",
                                Amount: 210
                                },
                                {
                                Date: "2020-05-08",
                                Phone: 9293117791,
                                Name: "Kumara Nayak",
                                Amount: 200
                                },
                                {
                                Date: "2020-05-08",
                                Phone: 9293117791,
                                Name: "Kumara Nayak",
                                Amount: 140
                                },
                                {
                                Date: "2020-05-08",
                                Phone: 9248936762,
                                Name: "Arpana Raja",
                                Amount: 110
                                },
                                {
                                Date: "2020-05-08",
                                Phone: 9960294002,
                                Name: "Mitra Gounder",
                                Amount: 240
                                },
                                {
                                Date: "2020-05-08",
                                Phone: 9150159527,
                                Name: "Leya Sankaran",
                                Amount: 140
                                },
                                {
                                Date: "2020-05-08",
                                Phone: 9236367267,
                                Name: "Takshaka Sandal",
                                Amount: 250
                                },
                                {
                                Date: "2020-05-09",
                                Phone: 9732082404,
                                Name: "Kali Chaudry",
                                Amount: 100
                                },
                                {
                                Date: "2020-05-09",
                                Phone: 9521737322,
                                Name: "Riddhi Nair",
                                Amount: 140
                                },
                                {
                                Date: "2020-05-09",
                                Phone: 9293117791,
                                Name: "Kumara Nayak",
                                Amount: 190
                                },
                                {
                                Date: "2020-05-09",
                                Phone: 9590146908,
                                Name: "Sachi Loliyekar",
                                Amount: 150
                                },
                                {
                                Date: "2020-05-09",
                                Phone: 9688156631,
                                Name: "Sahan Oak",
                                Amount: 220
                                },
                                {
                                Date: "2020-05-09",
                                Phone: 9895408016,
                                Name: "Mukul Krishna",
                                Amount: 230
                                },
                                {
                                Date: "2020-05-09",
                                Phone: 9261697610,
                                Name: "Niloufer Handa",
                                Amount: 130
                                },
                                {
                                Date: "2020-05-09",
                                Phone: 9927277067,
                                Name: "Ranjan Khare",
                                Amount: 170
                                },
                                {
                                Date: "2020-05-09",
                                Phone: 9640338121,
                                Name: "Brahma Swamy",
                                Amount: 230
                                },
                                {
                                Date: "2020-05-09",
                                Phone: 9485132704,
                                Name: "Sohalia Das",
                                Amount: 250
                                },
                                {
                                Date: "2020-05-09",
                                Phone: 9330107696,
                                Name: "Nipa Naidu",
                                Amount: 240
                                },
                                {
                                Date: "2020-05-09",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 180
                                },
                                {
                                Date: "2020-05-09",
                                Phone: 9389644210,
                                Name: "Brahma Swamy",
                                Amount: 210
                                }
    ]
            //HELPER FUNCTION

            function uniqueCustomers(customers)
                {
                    const result = _.uniqBy(customers , 'Phone')
                    //console.log('res',result)
                    return result
                }

            const StatItems = (props) =>{
                const {count , text} = props
                return (
                    <div>
                        { /*<h3>statsItem component</h3> */}
                        <h2>{count}</h2>
                        <h3>{text}</h3>
                    </div>
                )
            }

            const StatsContainer = (props) =>{
                const {customers} = props
                //console.log(customers)
                const ordersCount = customers.length
                function ordersAmount()
                {
                    let sum = 0
                    for(let i=0;i<customers.length;i++)
                    {
                        sum = sum + customers[i].Amount
                    }
                    return sum
                }
               
                return (
                    <div>
                        {/*<h3>stats container component</h3> */}
                        <StatItems count = {ordersCount} text = "orders"/>
                        <StatItems count = {ordersAmount()} text = "amount"/>
                        <StatItems count = {uniqueCustomers(customers).length} text = "customers"/>

                        
                    </div>
                )
            }
            //search component
            const Search = (props) =>{
                const {input , changeInput} = props
                // function changeInput(e)
                // {
                //     //console.log(e.target.value)
                //     setInput(e.target.value)
                // }
                return (
                    <div>
                        
                        <label>search : </label>
                        <input type ="text" value={input} onChange={changeInput} placeholder = "search by name and phone number"/>
                    </div>
                )
            }

            const Table = (props) =>{
                const {customers ,unfilteredCustomers }  = props
                //showDetails(customer function can be written here but we want to display all the orders placed by the customer but we have only filtered customer data in tableContainer component)
                console.log('table container',customers)
        
                function showDetails(customer)
                {
                    
                    const customersOrders = customersData.filter((cus)=>{
                        return cus.Phone === customer.Phone
                    })
                    console.log('customersOrders',customersOrders)

                    const displayFormat = () =>{
                        const result = []
                        customersOrders.forEach((cusObj)=>{
                            for(const c in cusObj)
                            {
                                if(c === 'Date')
                                {
                                    result.push([`${c}:${cusObj[c]}`])
                                }
                                else if(c ==='Amount')
                                {
                                    result.push([`${c}:${cusObj[c]} \n`])
                                }
                            }
                        })
                        return result
                    }

                    function orderAmountTotal()
                    {
                        let sum = 0
                        for(let i=0;i<customersOrders.length;i++)
                        {
                            sum = sum + customersOrders[i].Amount
                        }
                        return sum
                    }

                    // function date()
                    // {
                    //     let cusDate = []
                    //     for(let i=0;i<customersOrders.length;i++)
                    //     {
                    //          cusDate.push(customersOrders[i].Date) 
                    //     }
                    //     return cusDate
                    // }

                    // function individualAmount()
                    // {
                    //     let amt = []
                    //     for ( let i = 0 ; i < customersOrders.length ; i++ )
                    //     {
                    //         amt.push(customersOrders[i].Amount)
                    //     }
                    //     return amt
                    // }
                    
                    console.log( 'ccc',customersOrders)
                    alert (`
                            Name = ${customer.Name}    
                            Phone = ${customer.Phone}
                            Order Count = ${customersOrders.length}             
                            Total Amount = ${orderAmountTotal()}   
                               ${displayFormat()}                             
                           `)
                }
                return(
                    <div>
                        <table border = "1">
                            <thead>
                                <tr>
                                    <td>id</td>
                                    <td>Name</td>
                                    <td>Phone</td>
                                    <td>Show</td>
                                </tr>
                            </thead>
                            <tbody>
                                {customers.map((customer , i)=>{
                                    return(<tr key={i}>
                                        <td>{i + 1}</td>
                                        <td>{customer.Name}</td>
                                        <td>{customer.Phone}</td>
                                        <td><button onClick = {() => {showDetails(customer)}}>show</button></td>
                                    </tr>)
                                })}
                            </tbody>
                        </table>
                    </div>
                )
            }
           
            const CustomerContainer = (props) =>{
                const {customers} = props
                const [input , setInput] = useState('')
                console.log('customer container',customers.length)

                // function showDetails(customer)
                // {

                // }
                //callback function - pass it via props
                function changeInput(e)
                {
                    //console.log(e.target.value)
                    setInput(e.target.value)
                }
                // const unique = () =>{
                //     const result = _.uniqBy(customers , 'Phone')
                //     return result
                // }
                const filteredData = () =>{
                     return uniqueCustomers(customers).filter(ele => ele.Name.toLowerCase().includes(input.toLowerCase()) || ele.Phone.toString().includes(input.toString()))  
                }
        
                return(
                    <div>
                       <h2>Listing Customers - {filteredData().length}</h2>
                       <Search input = {input} changeInput = {changeInput}/>
                       <Table customers = {filteredData()}  unfilteredCustomers = {customers} />   
                    </div>
                )
            }

            const OrdersTable = (props) =>{
                const {data} = props
                return(
                   <table>
                    <thead>
                        <tr>
                            <th>number of orders</th>
                            <th>count of customers</th>
                        </tr>
                    </thead>
                    <tbody>
                        {Object.keys(data).map((ele , i)=>{
                            return (
                                <tr key = {i}>
                                    <td>{ele}</td>
                                    <td>{data[ele]}</td>
                                </tr>
                            )
                        })}
                    </tbody>
                    </table>
                )
            }
            
              
            const OrdersChart = (props) =>{
                const {data} = props
                google.charts.load('current', {'packages':['corechart']})
                google.charts.setOnLoadCallback(drawChart)

                 const chartData = [ ['No of orders', 'customers count'] ]
                        for(const key in data)
                        {
                            chartData.push([key , data[key]])
                        }

                    function drawChart() {
                        const data = google.visualization.arrayToDataTable(chartData);

                        const options = {
                        title: 'Order Distribution'
                        };

                        const chart = new google.visualization.PieChart(document.getElementById('piechart'));

                        chart.draw(data, options);
                    }
                return (
                    <div>
                        <div id="piechart" style={{width : '450px' ,height : '250px'}}></div>
                    </div>
                )
            }
            const OrdersContainer = (props) =>{
                const {customers} = props
                const customerFrequency = () => {
                    const customersData = uniqueCustomers(customers)
                    const frequencyObj = {1 : 0, 2 : 0, 3 : 0, 4 : 0,'5+' : 0}
                    customersData.forEach((customer)=>{
                        const customersOrders = customers.filter((c)=>{
                            return c.Phone == customer.Phone
                        })
                        if(customersOrders.length >= 5)
                        {
                            frequencyObj['5+']+=customersOrders.length
                        }
                        else
                        {
                            frequencyObj[customersOrders.length]+=customersOrders.length
                        }
                    })
                    return frequencyObj
                }
               
                return (
                    <div>
                        <h2>Orders Distribution</h2>
                        <OrdersTable data = {customerFrequency()}/>
                        <OrdersChart data = {customerFrequency()} />
                    </div>
                )
            }
          
            const App = (props) =>{
                const [customers , setCustomers] = useState(customersData)
                console.log(customers.length)
                return (
                    <div>
                        <h1>Customers Dashboard</h1>
                        <StatsContainer customers = {customers}/>
                        <CustomerContainer customers = {customers} />
                        <OrdersContainer customers = {customers}/>
                    </div>
                )
           }
           ReactDOM.render(<App /> , rootHandle)
        </script>
    </body>
</html